{% extends "_layout" %}

{% block content %}

<div class="l-container">
  <h1 class="primary-headline">{{ entry.title }}</h1>

  {% include '_components/_mainContent' with {
    'matrix': entry.mainContent
  } %}

  {% paginate craft.entries.section('posts').relatedTo(entry).limit(10) as pageInfo, posts %}

  {% for post in posts %}
    <div class="post">
      <h2>{{ post.link }}</h2>
      <p>{{ post.relatedAuthor.first().link }}</p>
      {{post.excerpt}}
      <a href="{{ post.url }}">Continue reading</a>
    </div>
  {% endfor %}

  {% if pageInfo.prevUrl %}<a href="{{ pageInfo.prevUrl }}">Previous Page</a>{% endif %}
  {% if pageInfo.nextUrl %}<a href="{{ pageInfo.nextUrl }}">Next Page</a>{% endif %}
</div>

{% endblock %}
